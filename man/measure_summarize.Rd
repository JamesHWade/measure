% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/measure-map.R
\name{measure_summarize}
\alias{measure_summarize}
\title{Summarize Measurements Across Samples}
\usage{
measure_summarize(
  .data,
  .cols = NULL,
  .fns = list(mean = mean, sd = stats::sd),
  na.rm = TRUE
)
}
\arguments{
\item{.data}{A data frame containing one or more \code{measure_list} columns.}

\item{.cols}{<\code{\link[dplyr:dplyr_tidy_select]{tidy-select}}> Columns to
summarize. Defaults to all \code{measure_list} columns.}

\item{.fns}{A named list of summary functions. Each function should accept
a numeric vector and return a single value. Default is
\code{list(mean = mean, sd = sd)}.}

\item{na.rm}{Logical. Should NA values be removed? Default is \code{TRUE}.}
}
\value{
A tibble with one row per measurement location and columns for
each summary statistic.
}
\description{
\code{measure_summarize()} computes summary statistics for each measurement
location across all samples. This is useful for understanding your data,
computing reference spectra, or identifying outliers.
}
\details{
This function does NOT transform data; it summarizes it. Common uses:
\itemize{
\item \strong{Mean spectrum}: The average spectrum across all samples
\item \strong{Reference spectrum}: For MSC-style corrections
\item \strong{Variability}: Standard deviation at each wavelength
\item \strong{Quality control}: Identify problematic wavelength regions
}
}
\examples{
library(recipes)
library(ggplot2)

rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  prep()

baked_data <- bake(rec, new_data = NULL)

# Compute mean and SD at each wavelength
summary_stats <- measure_summarize(baked_data)
summary_stats

# Visualize mean spectrum with confidence band
ggplot(summary_stats, aes(x = location)) +
  geom_ribbon(aes(ymin = mean - sd, ymax = mean + sd), alpha = 0.3) +
  geom_line(aes(y = mean)) +
  labs(x = "Channel", y = "Transmittance", title = "Mean Spectrum +/- 1 SD")

# Custom summary functions
measure_summarize(
  baked_data,
  .fns = list(
    median = median,
    q25 = function(x) quantile(x, 0.25),
    q75 = function(x) quantile(x, 0.75)
  )
)
}
