% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/smooth.R
\name{step_measure_smooth_ma}
\alias{step_measure_smooth_ma}
\title{Moving Average Smoothing}
\usage{
step_measure_smooth_ma(
  recipe,
  measures = NULL,
  window = 5L,
  edge_method = c("reflect", "constant", "NA"),
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_smooth_ma")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{measures}{An optional character vector of measure column names.}

\item{window}{The window size for the moving average. Must be an odd integer
of at least 3. Default is 5. Larger values produce more smoothing. Tunable
via \code{\link[=smooth_window]{smooth_window()}}.}

\item{edge_method}{How to handle edges where the full window doesn't fit.
One of \code{"reflect"} (default, reflects values at boundaries), \code{"constant"}
(pads with edge values), or \code{"NA"} (returns NA for edge values).}

\item{role}{Not used.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_measure_smooth_ma()} creates a \emph{specification} of a recipe step that
applies moving average smoothing to measurement data. This is a simple and
fast method for reducing high-frequency noise.
}
\details{
Moving average smoothing replaces each point with the mean of its neighbors
within a sliding window. This is equivalent to convolution with a uniform
kernel.

For a window size of \code{w}, the smoothed value at position \code{i} is:
\deqn{y_i = \frac{1}{w} \sum_{j=-k}^{k} x_{i+j}}{y[i] = mean(x[(i-k):(i+k)])}

where \code{k = (w-1)/2} is the half-window size.
}
\examples{
library(recipes)

rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_smooth_ma(window = 5) |>
  prep()

bake(rec, new_data = NULL)
}
\seealso{
Other measure-smoothing: 
\code{\link{step_measure_despike}()},
\code{\link{step_measure_filter_fourier}()},
\code{\link{step_measure_savitzky_golay}()},
\code{\link{step_measure_smooth_gaussian}()},
\code{\link{step_measure_smooth_median}()},
\code{\link{step_measure_smooth_wavelet}()}
}
\concept{measure-smoothing}
