% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/feature-engineering.R
\name{step_measure_integrals}
\alias{step_measure_integrals}
\title{Calculate Region Integrals}
\usage{
step_measure_integrals(
  recipe,
  regions,
  method = c("trapezoid", "simpson"),
  measures = NULL,
  prefix = "integral_",
  role = "predictor",
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_integrals")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{regions}{A named or unnamed list of numeric vectors, each of length 2
specifying regions as \code{c(min, max)}. For example:
\code{list(peak1 = c(1000, 1100), peak2 = c(1500, 1600))}.}

\item{method}{Integration method: \code{"trapezoid"} (default) or \code{"simpson"}.}

\item{measures}{An optional character vector of measure column names.}

\item{prefix}{Prefix for output column names. Default is \code{"integral_"}.}

\item{role}{Role for generated columns. Default is \code{"predictor"}.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_measure_integrals()} creates a \emph{specification} of a recipe step that
calculates integrated areas for specified x-axis regions.
}
\details{
This step calculates the integrated area under the curve for each specified
region. The result is added as new predictor columns, one per region.

\strong{Column naming:}
\itemize{
\item If regions are named: \code{prefix + name} (e.g., \code{"integral_peak1"})
\item If regions are unnamed: \code{prefix + index} (e.g., \code{"integral_1"})
}

\strong{Integration methods:}
\itemize{
\item \code{"trapezoid"}: Trapezoidal rule, fast and accurate for smooth data
\item \code{"simpson"}: Simpson's rule, more accurate for smooth curves
}
}
\examples{
library(recipes)

rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_integrals(
    regions = list(low = c(1, 30), mid = c(40, 60), high = c(70, 100))
  ) |>
  prep()

bake(rec, new_data = NULL)
}
\seealso{
Other measure-features: 
\code{\link{step_measure_bin}()},
\code{\link{step_measure_moments}()},
\code{\link{step_measure_ratios}()}
}
\concept{measure-features}
