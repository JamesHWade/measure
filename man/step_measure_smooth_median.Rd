% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/smooth.R
\name{step_measure_smooth_median}
\alias{step_measure_smooth_median}
\title{Median Filter Smoothing}
\usage{
step_measure_smooth_median(
  recipe,
  measures = NULL,
  window = 5L,
  edge_method = c("reflect", "constant", "NA"),
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_smooth_median")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{measures}{An optional character vector of measure column names.}

\item{window}{The window size for the moving average. Must be an odd integer
of at least 3. Default is 5. Larger values produce more smoothing. Tunable
via \code{\link[=smooth_window]{smooth_window()}}.}

\item{edge_method}{How to handle edges where the full window doesn't fit.
One of \code{"reflect"} (default, reflects values at boundaries), \code{"constant"}
(pads with edge values), or \code{"NA"} (returns NA for edge values).}

\item{role}{Not used.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_measure_smooth_median()} creates a \emph{specification} of a recipe step
that applies median filter smoothing. This is a robust method that is
particularly effective at removing spike noise while preserving edges.
}
\details{
Median filtering replaces each point with the median of its neighbors
within a sliding window. Unlike moving average, median filtering is
robust to outliers and spikes, making it ideal for:
\itemize{
\item Removing cosmic ray spikes in Raman spectroscopy
\item Cleaning detector artifacts
\item Preserving sharp edges while removing noise
}
}
\examples{
library(recipes)

rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_smooth_median(window = 5) |>
  prep()

bake(rec, new_data = NULL)
}
\seealso{
Other measure-smoothing: 
\code{\link{step_measure_despike}()},
\code{\link{step_measure_filter_fourier}()},
\code{\link{step_measure_savitzky_golay}()},
\code{\link{step_measure_smooth_gaussian}()},
\code{\link{step_measure_smooth_ma}()},
\code{\link{step_measure_smooth_wavelet}()}
}
\concept{measure-smoothing}
