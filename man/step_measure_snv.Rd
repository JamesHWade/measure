% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/snv.R
\name{step_measure_snv}
\alias{step_measure_snv}
\title{Standard Normal Variate (SNV) Transformation}
\usage{
step_measure_snv(
  recipe,
  measures = NULL,
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_snv")
)
}
\arguments{
\item{recipe}{A recipe object. The step will be added to the sequence of
operations for this recipe.}

\item{measures}{An optional character vector of measure column names to
process. If \code{NULL} (the default), all measure columns (columns with class
\code{measure_list}) will be processed. Use this to limit processing to specific
measure columns when working with multiple measurement types.}

\item{role}{Not used by this step since no new variables are created.}

\item{trained}{A logical to indicate if the quantities for preprocessing
have been estimated.}

\item{skip}{A logical. Should the step be skipped when the recipe is baked
by \code{\link[recipes:bake]{recipes::bake()}}? While all operations are baked when \code{\link[recipes:prep]{recipes::prep()}} is run, some
operations may not be able to be conducted on new data (e.g. processing
the outcome variable(s)). Care should be taken when using \code{skip = TRUE}
as it may affect the computations for subsequent operations.}

\item{id}{A character string that is unique to this step to identify it.}
}
\value{
An updated version of \code{recipe} with the new step added to the
sequence of any existing operations.
}
\description{
\code{step_measure_snv()} creates a \emph{specification} of a recipe step that applies
Standard Normal Variate transformation to spectral data. SNV normalizes each
spectrum to have zero mean and unit standard deviation.
}
\details{
Standard Normal Variate (SNV) is a row-wise transformation that normalizes
each spectrum independently. For a spectrum \eqn{x}, the transformation is:

\deqn{SNV(x) = \frac{x - \bar{x}}{s_x}}{SNV(x) = (x - mean(x)) / sd(x)}

where \eqn{\bar{x}}{mean(x)} is the mean and \eqn{s_x}{sd(x)} is the standard
deviation of the spectrum values.

SNV is commonly used to remove multiplicative effects of scatter and particle
size in NIR spectroscopy. After SNV transformation, each spectrum will have a
mean of zero and a standard deviation of one.

\strong{No selectors should be supplied to this step function}. The data should be
in the internal format produced by \code{\link[=step_measure_input_wide]{step_measure_input_wide()}} or
\code{\link[=step_measure_input_long]{step_measure_input_long()}}.

The measurement locations are preserved unchanged.
}
\section{Tidying}{
When you \code{\link[recipes:tidy.recipe]{tidy()}} this step, a tibble with column
\code{terms} (set to \code{".measures"}) and \code{id} is returned.
}

\examples{
library(recipes)

rec <-
  recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_snv() |>
  prep()

bake(rec, new_data = NULL)
}
\seealso{
Other measure-preprocessing: 
\code{\link{step_measure_calibrate_x}()},
\code{\link{step_measure_calibrate_y}()},
\code{\link{step_measure_map}()},
\code{\link{step_measure_msc}()},
\code{\link{step_measure_normalize_istd}()},
\code{\link{step_measure_ratio_reference}()},
\code{\link{step_measure_subtract_blank}()},
\code{\link{step_measure_subtract_reference}()}
}
\concept{measure-preprocessing}
