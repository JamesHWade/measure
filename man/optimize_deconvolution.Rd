% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/peak-deconv-optimizer.R
\name{optimize_deconvolution}
\alias{optimize_deconvolution}
\title{Optimize Peak Deconvolution}
\usage{
optimize_deconvolution(
  x,
  y,
  models,
  init_params,
  optimizer = "auto",
  max_iter = 1000L,
  tol = 1e-06,
  constrain_positions = TRUE,
  ...
)
}
\arguments{
\item{x}{Numeric vector of x-axis values (e.g., retention time, wavelength).}

\item{y}{Numeric vector of observed y-axis values.}

\item{models}{List of \code{peak_model} objects, one per peak.}

\item{init_params}{List of initial parameter lists, one per peak.}

\item{optimizer}{Optimization method: \code{"auto"}, \code{"lbfgsb"}, \code{"multistart"},
or \code{"nelder_mead"}.}

\item{max_iter}{Maximum number of iterations.}

\item{tol}{Convergence tolerance.}

\item{constrain_positions}{Logical. If \code{TRUE}, enforce that peak centers
maintain their relative ordering.}

\item{...}{Additional arguments passed to specific optimizers.}
}
\value{
A list containing:
\itemize{
\item \code{parameters}: List of optimized parameter lists
\item \code{fitted_values}: Numeric vector of fitted y values
\item \code{residuals}: Numeric vector of residuals
\item \code{convergence}: Logical indicating convergence
\item \code{n_iterations}: Number of iterations used
\item \code{final_value}: Final objective function value (SSE)
\item \code{optimizer}: Name of optimizer used
\item \code{elapsed_time}: Optimization time in seconds
}
}
\description{
Finds optimal parameters for a set of peak models by minimizing the
sum of squared residuals between the observed and fitted values.
}
\examples{
# Create synthetic data with two overlapping Gaussian peaks
x <- seq(0, 20, by = 0.1)
true_y <- 1.5 * exp(-0.5 * ((x - 8) / 1)^2) +
  0.8 * exp(-0.5 * ((x - 12) / 1.5)^2)
y <- true_y + rnorm(length(x), sd = 0.05)

# Set up models and initial guesses
models <- list(gaussian_peak_model(), gaussian_peak_model())
init_params <- list(
  list(height = 1.2, center = 7.5, width = 1.2),
  list(height = 0.6, center = 12.5, width = 1.8)
)

# Optimize
result <- optimize_deconvolution(x, y, models, init_params)
print(result$parameters)

}
\seealso{
Other peak-deconvolution: 
\code{\link{add_param_jitter}()},
\code{\link{assess_deconv_quality}()},
\code{\link{check_quality_gates}()},
\code{\link{initialize_peak_params}()}
}
\concept{peak-deconvolution}
