% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/baseline-pls-advanced.R
\name{step_measure_baseline_aspls}
\alias{step_measure_baseline_aspls}
\title{Adaptive Smoothness Penalized Least Squares Baseline}
\usage{
step_measure_baseline_aspls(
  recipe,
  measures = NULL,
  lambda = 1e+06,
  alpha = 0.5,
  max_iter = 50L,
  tol = 1e-05,
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_baseline_aspls")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{measures}{An optional character vector of measure column names.}

\item{lambda}{Base smoothness parameter. Default is 1e6.}

\item{alpha}{Adaptive weight parameter controlling smoothness adaptation
(0 = no adaptation, 1 = maximum adaptation). Higher values cause regions
with larger residuals to receive higher smoothness penalties. Note that
adaptation is applied globally via an averaged lambda. Default is 0.5.
Tunable via \code{\link[=baseline_alpha]{baseline_alpha()}}.}

\item{max_iter}{Maximum number of iterations. Default is 50.}

\item{tol}{Convergence tolerance. Default is 1e-5.}

\item{role}{Not used.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_measure_baseline_aspls()} creates a \emph{specification} of a recipe step
that applies Adaptive Smoothness Penalized Least Squares baseline correction.
}
\details{
aspls adapts the smoothness parameter based on the signal properties.
The algorithm computes a local smoothness weight based on residual magnitude,
then uses the global average as the effective lambda. This provides some
adaptation to peak intensity while maintaining computational efficiency.

This method is particularly effective for:
\itemize{
\item Signals with varying peak widths
\item Data with both sharp peaks and gradual baseline changes
\item Chromatography with complex baselines
}
}
\examples{
library(recipes)

\donttest{
rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_baseline_aspls(lambda = 1e6, alpha = 0.5) |>
  prep()

bake(rec, new_data = NULL)
}
}
\seealso{
Other measure-baseline: 
\code{\link{step_measure_baseline_airpls}()},
\code{\link{step_measure_baseline_als}()},
\code{\link{step_measure_baseline_arpls}()},
\code{\link{step_measure_baseline_auto}()},
\code{\link{step_measure_baseline_custom}()},
\code{\link{step_measure_baseline_fastchrom}()},
\code{\link{step_measure_baseline_gpc}()},
\code{\link{step_measure_baseline_iarpls}()},
\code{\link{step_measure_baseline_minima}()},
\code{\link{step_measure_baseline_morph}()},
\code{\link{step_measure_baseline_morphological}()},
\code{\link{step_measure_baseline_poly}()},
\code{\link{step_measure_baseline_py}()},
\code{\link{step_measure_baseline_rf}()},
\code{\link{step_measure_baseline_rolling}()},
\code{\link{step_measure_baseline_snip}()},
\code{\link{step_measure_baseline_tophat}()},
\code{\link{step_measure_detrend}()}
}
\concept{measure-baseline}
