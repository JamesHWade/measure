% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/peak-operations.R
\name{step_measure_peaks_integrate}
\alias{step_measure_peaks_integrate}
\title{Integrate Peak Areas}
\usage{
step_measure_peaks_integrate(
  recipe,
  method = c("trapezoid", "simpson"),
  baseline = c("local", "none", "global"),
  measures = NULL,
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_peaks_integrate")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{method}{Integration method. One of \code{"trapezoid"} (default) or
\code{"simpson"}.}

\item{baseline}{Baseline handling. One of \code{"local"} (linear interpolation
between peak bases), \code{"none"} (integrate to zero), or \code{"global"} (use
minimum value as baseline).}

\item{measures}{Optional character vector of measure column names.}

\item{role}{Not used.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_measure_peaks_integrate()} creates a \emph{specification} of a recipe step
that calculates the area under each detected peak.
}
\details{
This step calculates the area under each peak detected by
\code{step_measure_peaks_detect()}. The areas are stored in the \code{area} column
of the \code{.peaks} tibble.

\strong{Integration methods:}
\itemize{
\item \code{"trapezoid"}: Trapezoidal rule integration. Fast and accurate for
well-resolved peaks.
\item \code{"simpson"}: Simpson's rule integration. More accurate for smooth curves
but requires odd number of points.
}

\strong{Baseline handling:}
\itemize{
\item \code{"local"}: Subtracts a linear baseline connecting the left and right
peak bases before integration.
\item \code{"none"}: Integrates directly to y=0.
\item \code{"global"}: Subtracts the minimum value in the peak region.
}
}
\examples{
library(recipes)

rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_peaks_detect(min_height = 0.5) |>
  step_measure_peaks_integrate() |>
  prep()

result <- bake(rec, new_data = NULL)
}
\seealso{
Other peak-operations: 
\code{\link{step_measure_peaks_detect}()},
\code{\link{step_measure_peaks_filter}()},
\code{\link{step_measure_peaks_to_table}()}
}
\concept{peak-operations}
