% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/qc.R
\name{step_measure_impute}
\alias{step_measure_impute}
\title{Impute Missing Values in Measurements}
\usage{
step_measure_impute(
  recipe,
  measures = NULL,
  method = c("linear", "spline", "constant", "mean"),
  max_gap = Inf,
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_impute")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{measures}{An optional character vector of measure column names.}

\item{method}{Imputation method:
\itemize{
\item \code{"linear"} (default): Linear interpolation
\item \code{"spline"}: Cubic spline interpolation
\item \code{"constant"}: Nearest non-NA value
\item \code{"mean"}: Global mean of non-NA values
}}

\item{max_gap}{Maximum gap size to impute. Gaps larger than this are left
as NA. Default is \code{Inf} (impute all).}

\item{role}{Not used.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_measure_impute()} creates a \emph{specification} of a recipe step that
imputes (fills in) missing values (NA) in measurement data using
interpolation or other methods.
}
\details{
Missing values can occur due to:
\itemize{
\item Removed spikes (after despiking with replacement set to NA)
\item Excluded regions
\item Instrument gaps or dropouts
}

Linear and spline interpolation use the \code{stats::approx()} and
\code{stats::spline()} functions respectively. They are most appropriate when
gaps are small relative to spectral features.
}
\examples{
library(recipes)

rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_impute(method = "linear") |>
  prep()

bake(rec, new_data = NULL)
}
\seealso{
Other measure-qc: 
\code{\link{step_measure_qc_outlier}()},
\code{\link{step_measure_qc_saturated}()},
\code{\link{step_measure_qc_snr}()}
}
\concept{measure-qc}
