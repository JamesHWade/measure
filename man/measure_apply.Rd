% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nd_apply.R
\name{measure_apply}
\alias{measure_apply}
\title{Apply a function to measurement data along dimensions}
\usage{
measure_apply(x, fn, along = 1L, ...)
}
\arguments{
\item{x}{A \code{measure_tbl}, \code{measure_nd_tbl}, \code{measure_list}, or
\code{measure_nd_list} object.}

\item{fn}{A function that accepts a \code{measure_tbl} and returns a
\code{measure_tbl}. The function signature should be \code{fn(x, ...)}.}

\item{along}{Integer vector specifying which dimensions to apply the
function along. For 2D data, \code{along = 1} applies along dimension 1
(e.g., time in LC-DAD), treating dimension 2 slices as independent.
Default is \code{1L} (apply along the first dimension).}

\item{...}{Additional arguments passed to \code{fn}.}
}
\value{
An object of the same class as the input, with the function
applied to each 1D slice.
}
\description{
Central dispatcher that enables 1D preprocessing operations to work
on n-dimensional measurement data. For 1D data, it applies the function
directly. For nD data, it slices along the specified dimensions, applies
the function to each 1D slice, and rebuilds the nD structure.
}
\details{
The \code{measure_apply()} function is the workhorse for making 1D
preprocessing steps work on nD data. It handles:
\itemize{
\item \strong{1D data}: Direct function application
\item \strong{nD data}: Slice-apply-rebuild pattern
}

For nD data, the function extracts 1D slices along the specified
dimension(s), applies the transformation function to each slice,
and reassembles the result into the original nD structure.
}
\examples{
# Create a simple 2D measurement
m2d <- new_measure_nd_tbl(
  location_1 = rep(1:10, each = 3),
  location_2 = rep(1:3, times = 10),
  value = rnorm(30)
)

# Define a simple smoothing function for 1D data
smooth_1d <- function(x) {
  x$value <- stats::filter(x$value, rep(1/3, 3), sides = 2)
  x[!is.na(x$value), ]
}

# Apply smoothing along dimension 1
result <- measure_apply(m2d, smooth_1d, along = 1)

}
