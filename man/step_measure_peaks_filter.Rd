% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/peak-operations.R
\name{step_measure_peaks_filter}
\alias{step_measure_peaks_filter}
\title{Filter Peaks by Criteria}
\usage{
step_measure_peaks_filter(
  recipe,
  min_height = NULL,
  min_area = NULL,
  min_area_pct = NULL,
  min_prominence = NULL,
  max_peaks = NULL,
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_peaks_filter")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{min_height}{Minimum peak height. Peaks below this are removed.}

\item{min_area}{Minimum peak area. Requires prior integration.}

\item{min_area_pct}{Minimum area as percentage of total. Peaks with area
less than this percentage of total peak area are removed.}

\item{min_prominence}{Minimum peak prominence.}

\item{max_peaks}{Maximum number of peaks to keep (keeps largest by area
or height).}

\item{role}{Not used.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_measure_peaks_filter()} creates a \emph{specification} of a recipe step
that filters detected peaks based on various criteria.
}
\details{
This step removes peaks that don't meet specified criteria. Multiple
criteria can be combined - peaks must pass ALL specified filters.
}
\examples{
library(recipes)

rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_peaks_detect(min_height = 0.3) |>
  step_measure_peaks_integrate() |>
  step_measure_peaks_filter(min_area_pct = 1) |>
  prep()

result <- bake(rec, new_data = NULL)
}
\seealso{
Other peak-operations: 
\code{\link{step_measure_peaks_deconvolve}()},
\code{\link{step_measure_peaks_detect}()},
\code{\link{step_measure_peaks_integrate}()},
\code{\link{step_measure_peaks_to_table}()}
}
\concept{peak-operations}
