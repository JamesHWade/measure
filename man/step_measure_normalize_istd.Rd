% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/normalize-sample.R
\name{step_measure_normalize_istd}
\alias{step_measure_normalize_istd}
\title{Internal Standard Normalization}
\usage{
step_measure_normalize_istd(
  recipe,
  location_min,
  location_max,
  method = "mean",
  measures = NULL,
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_normalize_istd")
)
}
\arguments{
\item{recipe}{A recipe object. The step will be added to the sequence of
operations for this recipe.}

\item{location_min}{Numeric. The lower bound of the region to use for
normalization. This parameter is tunable with \code{\link[=peak_location_min]{peak_location_min()}}.}

\item{location_max}{Numeric. The upper bound of the region to use for
normalization. This parameter is tunable with \code{\link[=peak_location_max]{peak_location_max()}}.}

\item{method}{Character. The summary statistic to compute from the region.
One of \code{"mean"} (default), \code{"max"}, or \code{"integral"}.}

\item{measures}{An optional character vector of measure column names to
process. If \code{NULL} (the default), all measure columns (columns with class
\code{measure_list}) will be processed. Use this to limit processing to specific
measure columns when working with multiple measurement types.}

\item{role}{Not used by this step since no new variables are created.}

\item{trained}{A logical to indicate if the quantities for preprocessing
have been estimated.}

\item{skip}{A logical. Should the step be skipped when the recipe is baked
by \code{\link[recipes:bake]{recipes::bake()}}? While all operations are baked when \code{\link[recipes:prep]{recipes::prep()}} is run, some
operations may not be able to be conducted on new data (e.g. processing
the outcome variable(s)). Care should be taken when using \code{skip = TRUE}
as it may affect the computations for subsequent operations.}

\item{id}{A character string that is unique to this step to identify it.}
}
\value{
An updated version of \code{recipe} with the new step added.
}
\description{
\code{step_measure_normalize_istd()} is an alias for \code{\link[=step_measure_normalize_peak]{step_measure_normalize_peak()}}
with domain-specific naming for chromatography and mass spectrometry users.
It normalizes spectra by dividing by a value computed from a specific region
(internal standard peak).
}
\details{
This function is identical to \code{\link[=step_measure_normalize_peak]{step_measure_normalize_peak()}} but uses
terminology familiar to chromatography and mass spectrometry practitioners.

Internal standard (ISTD) normalization is commonly used to correct for:
\itemize{
\item Injection volume variations
\item Ionization efficiency differences
\item Matrix effects
\item Instrument drift
}

The internal standard should be a compound that:
\itemize{
\item Is chemically stable
\item Does not naturally occur in samples
\item Elutes in a distinct region
\item Has consistent response
}
}
\examples{
library(recipes)

# Normalize to internal standard peak region (channels 50-60)
rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_normalize_istd(
    location_min = 50,
    location_max = 60,
    method = "integral"
  )
}
\seealso{
\code{\link[=step_measure_normalize_peak]{step_measure_normalize_peak()}} for the underlying implementation

Other measure-preprocessing: 
\code{\link{step_measure_absorbance}()},
\code{\link{step_measure_calibrate_x}()},
\code{\link{step_measure_calibrate_y}()},
\code{\link{step_measure_derivative}()},
\code{\link{step_measure_derivative_gap}()},
\code{\link{step_measure_kubelka_munk}()},
\code{\link{step_measure_log}()},
\code{\link{step_measure_map}()},
\code{\link{step_measure_msc}()},
\code{\link{step_measure_ratio_reference}()},
\code{\link{step_measure_snv}()},
\code{\link{step_measure_subtract_blank}()},
\code{\link{step_measure_subtract_reference}()},
\code{\link{step_measure_transmittance}()}
}
\concept{measure-preprocessing}
