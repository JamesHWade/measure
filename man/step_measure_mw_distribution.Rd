% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mw-calculations.R
\name{step_measure_mw_distribution}
\alias{step_measure_mw_distribution}
\title{Generate Molecular Weight Distribution Curve}
\usage{
step_measure_mw_distribution(
  recipe,
  measures = NULL,
  type = c("differential", "cumulative", "both"),
  calibration = NULL,
  n_points = 100L,
  mw_range = NULL,
  normalize = TRUE,
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_mw_distribution")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{measures}{An optional character vector of measure column names.}

\item{type}{Type of distribution to generate:
\itemize{
\item \code{"differential"} (default): dW/d(log M) differential distribution
\item \code{"cumulative"}: Cumulative weight fraction distribution
\item \code{"both"}: Generate both distributions
}}

\item{calibration}{Calibration method for converting x-axis to log(MW).
See \code{\link[=step_measure_mw_averages]{step_measure_mw_averages()}} for details.}

\item{n_points}{Number of points in the output distribution. Default is 100.
If \code{NULL}, uses the original data resolution.}

\item{mw_range}{Optional numeric vector \code{c(min, max)} specifying the MW range
for the output distribution. If \code{NULL}, uses the range from data.}

\item{normalize}{Logical. Should the differential distribution be normalized
to integrate to 1? Default is \code{TRUE}.}

\item{role}{Role for generated columns. Default is \code{"predictor"}.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#superseded}{\figure{lifecycle-superseded.svg}{options: alt='[Superseded]'}}}{\strong{[Superseded]}}

\code{step_measure_mw_distribution()} creates a \emph{specification} of a recipe step
that generates molecular weight distribution curves from SEC/GPC data.

\strong{This step has been superseded by \code{measure.sec::step_sec_mw_distribution()}.}
For new code, we recommend using the \code{measure.sec} package which provides
more complete SEC/GPC analysis functionality.
}
\details{
This step transforms the raw chromatogram into standard MW distribution
representations:

\strong{Differential Distribution (dW/d(log M)):}
The weight fraction per unit log(MW). This representation is preferred
because the area under the curve represents the weight fraction in that
MW range.

\strong{Cumulative Distribution:}
The cumulative weight fraction from low to high MW. Values range from 0 to 1.

The output replaces the \code{.measures} column with the distribution data,
where \code{location} contains log10(MW) values and \code{value} contains the
distribution values.
}
\examples{
library(recipes)

# Generate differential MW distribution
# rec <- recipe(~., data = gpc_data) |>
#   step_measure_input_wide(starts_with("signal_")) |>
#   step_measure_baseline_als() |>
#   step_measure_mw_distribution(type = "differential") |>
#   prep()
}
\seealso{
Other measure-chromatography: 
\code{\link{step_measure_mw_averages}()},
\code{\link{step_measure_mw_fractions}()},
\code{\link{step_measure_peaks_deconvolve}()}
}
\concept{measure-chromatography}
