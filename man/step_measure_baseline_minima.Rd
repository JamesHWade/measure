% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/baseline-extended.R, R/baseline-morphological.R
\name{step_measure_baseline_minima}
\alias{step_measure_baseline_minima}
\title{Local Minima Interpolation Baseline Correction}
\usage{
step_measure_baseline_minima(
  recipe,
  measures = NULL,
  window_size = 30L,
  smooth_window = 50L,
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_baseline_minima")
)

step_measure_baseline_minima(
  recipe,
  measures = NULL,
  window_size = 30L,
  smooth_window = 50L,
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_baseline_minima")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{measures}{An optional character vector of measure column names.}

\item{window_size}{Window for finding local minima. Default is 30.}

\item{smooth_window}{Smoothing window size for final baseline. Default is 50.}

\item{role}{Not used.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}

\item{method}{Interpolation method: "linear" or "spline". Default is "spline".}
}
\value{
An updated recipe with the new step added.

An updated recipe with the new step added.
}
\description{
\code{step_measure_baseline_minima()} creates a \emph{specification} of a recipe step
that estimates baseline by interpolating between local minima.

\code{step_measure_baseline_minima()} creates a \emph{specification} of a recipe step
that estimates baseline by connecting local minima with spline interpolation.
}
\details{
This method finds local minima within specified windows, then interpolates
between them to create a baseline estimate. This is intuitive and works
well when baseline points are clearly identifiable as local minima.

This algorithm finds local minima in the signal and connects them using
spline interpolation to form a baseline estimate. The result is then
smoothed to reduce noise.

This method is particularly effective for:
\itemize{
\item Signals with clearly defined baseline regions between peaks
\item Chromatographic data with resolved peaks
\item Data where the baseline varies slowly
}
}
\examples{
library(recipes)

\donttest{
rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_baseline_minima(window_size = 30, method = "spline") |>
  prep()
}
library(recipes)

\donttest{
rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_baseline_minima(window_size = 30) |>
  prep()

bake(rec, new_data = NULL)
}
}
\seealso{
Other measure-baseline: 
\code{\link{step_measure_baseline_airpls}()},
\code{\link{step_measure_baseline_als}()},
\code{\link{step_measure_baseline_arpls}()},
\code{\link{step_measure_baseline_aspls}()},
\code{\link{step_measure_baseline_auto}()},
\code{\link{step_measure_baseline_custom}()},
\code{\link{step_measure_baseline_fastchrom}()},
\code{\link{step_measure_baseline_gpc}()},
\code{\link{step_measure_baseline_iarpls}()},
\code{\link{step_measure_baseline_morph}()},
\code{\link{step_measure_baseline_morphological}()},
\code{\link{step_measure_baseline_poly}()},
\code{\link{step_measure_baseline_py}()},
\code{\link{step_measure_baseline_rf}()},
\code{\link{step_measure_baseline_rolling}()},
\code{\link{step_measure_baseline_snip}()},
\code{\link{step_measure_baseline_tophat}()},
\code{\link{step_measure_detrend}()}

Other measure-baseline: 
\code{\link{step_measure_baseline_airpls}()},
\code{\link{step_measure_baseline_als}()},
\code{\link{step_measure_baseline_arpls}()},
\code{\link{step_measure_baseline_aspls}()},
\code{\link{step_measure_baseline_auto}()},
\code{\link{step_measure_baseline_custom}()},
\code{\link{step_measure_baseline_fastchrom}()},
\code{\link{step_measure_baseline_gpc}()},
\code{\link{step_measure_baseline_iarpls}()},
\code{\link{step_measure_baseline_morph}()},
\code{\link{step_measure_baseline_morphological}()},
\code{\link{step_measure_baseline_poly}()},
\code{\link{step_measure_baseline_py}()},
\code{\link{step_measure_baseline_rf}()},
\code{\link{step_measure_baseline_rolling}()},
\code{\link{step_measure_baseline_snip}()},
\code{\link{step_measure_baseline_tophat}()},
\code{\link{step_measure_detrend}()}
}
\concept{measure-baseline}
