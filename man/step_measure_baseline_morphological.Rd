% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/baseline-morphological.R
\name{step_measure_baseline_morphological}
\alias{step_measure_baseline_morphological}
\title{Morphological Baseline Correction (Erosion/Dilation)}
\usage{
step_measure_baseline_morphological(
  recipe,
  measures = NULL,
  window_size = 50L,
  iterations = 1L,
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_baseline_morphological")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{measures}{An optional character vector of measure column names.}

\item{window_size}{Size of the structuring element. Default is 50.}

\item{iterations}{Number of erosion iterations. Default is 1.}

\item{role}{Not used.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_measure_baseline_morphological()} creates a \emph{specification} of a recipe
step that applies morphological erosion followed by dilation for baseline
estimation.
}
\details{
This morphological approach uses erosion (local minimum) to push the
baseline down below peaks, followed by dilation (local maximum) to
smooth the result.

Multiple erosion iterations can be used for signals with tall peaks
that require more aggressive baseline estimation.
}
\examples{
library(recipes)

\donttest{
rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_baseline_morphological(window_size = 50) |>
  prep()

bake(rec, new_data = NULL)
}
}
\seealso{
Other measure-baseline: 
\code{\link{step_measure_baseline_airpls}()},
\code{\link{step_measure_baseline_als}()},
\code{\link{step_measure_baseline_arpls}()},
\code{\link{step_measure_baseline_aspls}()},
\code{\link{step_measure_baseline_auto}()},
\code{\link{step_measure_baseline_custom}()},
\code{\link{step_measure_baseline_fastchrom}()},
\code{\link{step_measure_baseline_gpc}()},
\code{\link{step_measure_baseline_iarpls}()},
\code{\link{step_measure_baseline_minima}()},
\code{\link{step_measure_baseline_morph}()},
\code{\link{step_measure_baseline_poly}()},
\code{\link{step_measure_baseline_py}()},
\code{\link{step_measure_baseline_rf}()},
\code{\link{step_measure_baseline_rolling}()},
\code{\link{step_measure_baseline_snip}()},
\code{\link{step_measure_baseline_tophat}()},
\code{\link{step_measure_detrend}()}
}
\concept{measure-baseline}
