% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/baseline-extended.R
\name{step_measure_baseline_snip}
\alias{step_measure_baseline_snip}
\title{SNIP Baseline Correction}
\usage{
step_measure_baseline_snip(
  recipe,
  measures = NULL,
  iterations = 40L,
  decreasing = TRUE,
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_baseline_snip")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{measures}{An optional character vector of measure column names.}

\item{iterations}{Number of clipping iterations. More iterations produce
lower baselines. Default is 40.}

\item{decreasing}{Logical. If \code{TRUE} (default), iterations decrease from
\code{iterations} to 1. If \code{FALSE}, uses fixed window size.}

\item{role}{Not used.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_measure_baseline_snip()} creates a \emph{specification} of a recipe step
that applies SNIP (Statistics-sensitive Non-linear Iterative Peak-clipping)
baseline correction.
}
\details{
SNIP is a robust baseline estimation algorithm originally developed for
gamma-ray spectroscopy. It works by iteratively replacing each point with
the minimum of itself and the average of its neighbors at increasing
distances.

The algorithm is particularly effective for:
\itemize{
\item Spectra with sharp peaks on slowly varying baseline
\item X-ray fluorescence and diffraction
\item Mass spectrometry
}
}
\examples{
library(recipes)

rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_baseline_snip(iterations = 30) |>
  prep()

bake(rec, new_data = NULL)
}
\references{
Ryan, C.G., et al. (1988). SNIP, a statistics-sensitive background treatment
for the quantitative analysis of PIXE spectra in geoscience applications.
Nuclear Instruments and Methods in Physics Research B, 34, 396-402.
}
\seealso{
Other measure-baseline: 
\code{\link{step_measure_baseline_airpls}()},
\code{\link{step_measure_baseline_als}()},
\code{\link{step_measure_baseline_custom}()},
\code{\link{step_measure_baseline_gpc}()},
\code{\link{step_measure_baseline_poly}()},
\code{\link{step_measure_baseline_py}()},
\code{\link{step_measure_baseline_rf}()},
\code{\link{step_measure_baseline_rolling}()},
\code{\link{step_measure_detrend}()}
}
\concept{measure-baseline}
