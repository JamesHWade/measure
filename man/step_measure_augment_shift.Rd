% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/augmentation.R
\name{step_measure_augment_shift}
\alias{step_measure_augment_shift}
\title{Add Random X-axis Shifts}
\usage{
step_measure_augment_shift(
  recipe,
  max_shift = 1,
  measures = NULL,
  role = NA,
  trained = FALSE,
  skip = TRUE,
  id = recipes::rand_id("measure_augment_shift")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{max_shift}{Maximum shift amount in location units. The actual shift
is uniformly sampled from \verb{[-max_shift, max_shift]}.}

\item{measures}{An optional character vector of measure column names.}

\item{role}{Not used.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking? Default is \code{TRUE}.}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_measure_augment_shift()} creates a \emph{specification} of a recipe step that
applies random shifts along the x-axis for shift invariance training.
}
\details{
This step adds random x-axis shifts to help models become invariant to
small retention time or wavelength shifts. This is particularly useful
for chromatographic data where peak positions may vary slightly.

The spectrum is interpolated to the shifted positions using linear
interpolation. Values outside the original range use boundary values.

\strong{Default behavior (\code{skip = TRUE}):}
The shift is only applied during training. When predicting on new data,
the step is skipped.
}
\examples{
library(recipes)

rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_augment_shift(max_shift = 2) |>
  prep()

bake(rec, new_data = NULL)
}
\seealso{
Other measure-augmentation: 
\code{\link{step_measure_augment_noise}()},
\code{\link{step_measure_augment_scale}()}
}
\concept{measure-augmentation}
