% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/step_mcr_als.R
\name{step_measure_mcr_als}
\alias{step_measure_mcr_als}
\title{MCR-ALS Decomposition for Multi-Dimensional Data}
\usage{
step_measure_mcr_als(
  recipe,
  ...,
  n_components = 3L,
  max_iter = 500L,
  tol = 1e-06,
  non_negativity = TRUE,
  unimodality = FALSE,
  prefix = "mcr_",
  role = "predictor",
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_mcr_als")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{...}{One or more selector functions to choose measure columns.
If empty, all nD measure columns are used.}

\item{n_components}{Number of components to extract. Default is 3.}

\item{max_iter}{Maximum number of iterations. Default is 500.}

\item{tol}{Convergence tolerance. Default is 1e-6.}

\item{non_negativity}{Logical. Should non-negativity constraints be applied?
Default is \code{TRUE}.}

\item{unimodality}{Logical. Should unimodality constraints be applied?
Default is \code{FALSE}.}

\item{prefix}{Prefix for output column names. Default is \code{"mcr_"}.}

\item{role}{Not used.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_measure_mcr_als()} creates a \emph{specification} of a recipe step that
applies Multivariate Curve Resolution - Alternating Least Squares (MCR-ALS)
to multi-dimensional measurement data.
}
\details{
MCR-ALS is a powerful technique for resolving mixtures into pure component
contributions. It's particularly useful for:
\itemize{
\item Chromatographic data (time x wavelength)
\item Spectroscopic mixtures
\item Process analytical data
}

Unlike PARAFAC, MCR-ALS is a bilinear method that works on 2D data
(samples unfolded if 3D). It allows flexible constraints like
non-negativity and unimodality.
\subsection{Experimental Status}{

This step is experimental and its API may change in future versions.
}

\subsection{Requirements}{
\itemize{
\item Input must be \code{measure_nd_list} with 2 dimensions
\item All samples must have the same grid (regular, aligned)
}
}
}
\note{
This is an \strong{experimental} feature. The implementation uses a simple
ALS algorithm without advanced constraints. For production use, consider
using dedicated MCR-ALS packages.
}
\examples{
\dontrun{
library(recipes)

# After ingesting chromatographic data
rec <- recipe(concentration ~ ., data = chrom_data) |>
  step_measure_input_long(
    absorbance,
    location = vars(time, wavelength)
  ) |>
  step_measure_mcr_als(n_components = 3) |>
  prep()

bake(rec, new_data = NULL)
}
}
\seealso{
\code{\link[=step_measure_parafac]{step_measure_parafac()}} for PARAFAC decomposition

Other measure-multiway: 
\code{\link{step_measure_parafac}()},
\code{\link{step_measure_tucker}()}
}
\concept{measure-multiway}
