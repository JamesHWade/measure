% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/feature-engineering.R
\name{step_measure_moments}
\alias{step_measure_moments}
\title{Calculate Statistical Moments}
\usage{
step_measure_moments(
  recipe,
  moments = c("mean", "sd", "skewness", "kurtosis"),
  weighted = FALSE,
  measures = NULL,
  prefix = "moment_",
  role = "predictor",
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_moments")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{moments}{Character vector specifying which moments to calculate.
Options: \code{"mean"}, \code{"sd"}, \code{"skewness"}, \code{"kurtosis"}, \code{"entropy"}.
Default is \code{c("mean", "sd", "skewness", "kurtosis")}.}

\item{weighted}{Logical. If \code{TRUE}, moments are weighted by location values.
Default is \code{FALSE}.}

\item{measures}{An optional character vector of measure column names.}

\item{prefix}{Prefix for output column names. Default is \code{"moment_"}.}

\item{role}{Role for generated columns. Default is \code{"predictor"}.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_measure_moments()} creates a \emph{specification} of a recipe step that
calculates statistical moments from spectra.
}
\details{
This step calculates statistical moments that summarize the distribution
of values in each spectrum:\tabular{ll}{
   Moment \tab Description \cr
   mean \tab Mean value of the spectrum \cr
   sd \tab Standard deviation of values \cr
   skewness \tab Asymmetry of the distribution \cr
   kurtosis \tab "Tailedness" of the distribution \cr
   entropy \tab Shannon entropy (requires positive values) \cr
}


When \code{weighted = TRUE}, the location (x-axis) values are used as weights,
which can be useful for calculating center of mass or weighted statistics.
}
\examples{
library(recipes)

rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_moments(moments = c("mean", "sd", "skewness")) |>
  prep()

bake(rec, new_data = NULL)
}
\seealso{
Other measure-features: 
\code{\link{step_measure_bin}()},
\code{\link{step_measure_integrals}()},
\code{\link{step_measure_ratios}()}
}
\concept{measure-features}
