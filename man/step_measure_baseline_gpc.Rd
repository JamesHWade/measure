% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/baseline-gpc.R
\name{step_measure_baseline_gpc}
\alias{step_measure_baseline_gpc}
\title{GPC/SEC Baseline Correction}
\usage{
step_measure_baseline_gpc(
  recipe,
  measures = NULL,
  left_frac = 0.05,
  right_frac = 0.05,
  method = "linear",
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_baseline_gpc")
)
}
\arguments{
\item{recipe}{A recipe object. The step will be added to the sequence of
operations for this recipe.}

\item{measures}{An optional character vector of measure column names to
process. If \code{NULL} (the default), all measure columns (columns with class
\code{measure_list}) will be processed.}

\item{left_frac}{Fraction of points from the beginning to use as the left
baseline region. Default is \code{0.05} (first 5\% of data points).}

\item{right_frac}{Fraction of points from the end to use as the right
baseline region. Default is \code{0.05} (last 5\% of data points).}

\item{method}{Method for baseline estimation. One of:
\itemize{
\item \code{"linear"} (default): Linear interpolation between left and right means
\item \code{"median"}: Uses median of baseline regions (more robust to outliers)
\item \code{"spline"}: Smooth spline through baseline regions
}}

\item{role}{Not used by this step since no new variables are created.}

\item{trained}{A logical to indicate if the quantities for preprocessing
have been estimated.}

\item{skip}{A logical. Should the step be skipped when the recipe is baked?}

\item{id}{A character string that is unique to this step to identify it.}
}
\value{
An updated version of \code{recipe} with the new step added to the
sequence of any existing operations.
}
\description{
\code{step_measure_baseline_gpc()} creates a \emph{specification} of a recipe step
that applies baseline correction optimized for Gel Permeation Chromatography
(GPC) or Size Exclusion Chromatography (SEC) data. This method estimates the
baseline by interpolating between baseline regions at the start and end of
the chromatogram.
}
\details{
GPC/SEC chromatograms typically have distinct baseline regions at the
beginning and end where no polymer elutes. This step leverages this
characteristic by:

1
2. Computing a representative baseline value for each region (mean or median)
3. Interpolating between these values to estimate the full baseline
4. Subtracting the estimated baseline from the signal

The \code{left_frac} and \code{right_frac} parameters control how much of the
chromatogram is considered "baseline". Choose values that:
\itemize{
\item Include only the flat, signal-free regions
\item Exclude any polymer peaks or system peaks
\item Are large enough to average out noise
}

Unlike general-purpose baseline methods like ALS or polynomial fitting,
this approach is specifically designed for the characteristic shape of
GPC/SEC chromatograms and is computationally very fast.

\strong{No selectors should be supplied to this step function}. The data should be
in the internal format produced by \code{\link[=step_measure_input_wide]{step_measure_input_wide()}} or
\code{\link[=step_measure_input_long]{step_measure_input_long()}}.
}
\section{Tidying}{
When you \code{\link[recipes:tidy.recipe]{tidy()}} this step, a tibble with columns
\code{terms}, \code{left_frac}, \code{right_frac}, \code{method}, and \code{id} is returned.
}

\examples{
library(recipes)

# Using meats_long as example (works on any measurement data)
rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_baseline_gpc(left_frac = 0.1, right_frac = 0.1) |>
  prep()

bake(rec, new_data = NULL)
}
\seealso{
\code{\link[=step_measure_baseline_als]{step_measure_baseline_als()}} for general-purpose baseline
correction, \code{\link[=step_measure_detrend]{step_measure_detrend()}} for simple trend removal.

Other measure-baseline: 
\code{\link{step_measure_baseline_airpls}()},
\code{\link{step_measure_baseline_als}()},
\code{\link{step_measure_baseline_arpls}()},
\code{\link{step_measure_baseline_auto}()},
\code{\link{step_measure_baseline_custom}()},
\code{\link{step_measure_baseline_minima}()},
\code{\link{step_measure_baseline_morph}()},
\code{\link{step_measure_baseline_poly}()},
\code{\link{step_measure_baseline_py}()},
\code{\link{step_measure_baseline_rf}()},
\code{\link{step_measure_baseline_rolling}()},
\code{\link{step_measure_baseline_snip}()},
\code{\link{step_measure_baseline_tophat}()},
\code{\link{step_measure_detrend}()}
}
\concept{measure-baseline}
