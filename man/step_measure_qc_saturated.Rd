% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/qc.R
\name{step_measure_qc_saturated}
\alias{step_measure_qc_saturated}
\title{Detect Saturated Measurements}
\usage{
step_measure_qc_saturated(
  recipe,
  measures = NULL,
  upper_limit = NULL,
  lower_limit = NULL,
  tolerance = 0.01,
  new_col_flag = ".saturated",
  new_col_pct = ".sat_pct",
  role = "predictor",
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_qc_saturated")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{measures}{An optional character vector of measure column names.}

\item{upper_limit}{Upper saturation threshold. Default is \code{NULL} (auto-detect).}

\item{lower_limit}{Lower saturation threshold. Default is \code{NULL} (auto-detect).}

\item{tolerance}{How close to the limit counts as saturated. Default is 0.01.}

\item{new_col_flag}{Name of column for saturation flag. Default is
\code{".saturated"}.}

\item{new_col_pct}{Name of column for saturation percentage. Default is
\code{".sat_pct"}.}

\item{role}{Role for new columns. Default is \code{"predictor"}.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_measure_qc_saturated()} creates a \emph{specification} of a recipe step
that detects saturated (clipped) regions in measurements and adds metadata
columns indicating saturation status.
}
\details{
Saturation occurs when detector response reaches its maximum (or minimum)
capacity. Saturated data points lose quantitative information and may need
special handling.

If limits are not specified, they are auto-detected as values appearing
as flat regions at extreme values (using \code{min()} and \code{max()}).

Two new columns are added:
\itemize{
\item \code{.saturated}: Logical, TRUE if any saturation detected
\item \code{.sat_pct}: Percentage of points that are saturated
}
}
\examples{
library(recipes)

rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_qc_saturated() |>
  prep()

bake(rec, new_data = NULL)
}
\seealso{
Other measure-qc: 
\code{\link{step_measure_impute}()},
\code{\link{step_measure_qc_outlier}()},
\code{\link{step_measure_qc_snr}()}
}
\concept{measure-qc}
