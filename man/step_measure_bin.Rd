% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/feature-engineering.R
\name{step_measure_bin}
\alias{step_measure_bin}
\title{Spectral Binning}
\usage{
step_measure_bin(
  recipe,
  n_bins = NULL,
  bin_width = NULL,
  method = c("mean", "sum", "median", "max"),
  measures = NULL,
  role = NA,
  trained = FALSE,
  bin_breaks = NULL,
  skip = FALSE,
  id = recipes::rand_id("measure_bin")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{n_bins}{Number of bins (mutually exclusive with \code{bin_width}).}

\item{bin_width}{Width of each bin in location units (mutually exclusive
with \code{n_bins}).}

\item{method}{Aggregation method: \code{"mean"} (default), \code{"sum"}, \code{"median"},
or \code{"max"}.}

\item{measures}{An optional character vector of measure column names.}

\item{role}{Not used (modifies existing data).}

\item{trained}{Logical indicating if the step has been trained.}

\item{bin_breaks}{The computed bin breaks (after training).}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_measure_bin()} creates a \emph{specification} of a recipe step that
reduces a spectrum to fewer points by averaging within bins.
}
\details{
This step reduces the number of points in each spectrum by dividing the
x-axis into bins and aggregating values within each bin. The result
replaces the \code{.measures} column with the binned data.

This is useful for:
\itemize{
\item Reducing data dimensionality
\item Decreasing noise through averaging
\item Speeding up downstream processing
\item Aligning data from different resolutions
}

The bin boundaries are determined during \code{prep()} from the training data
and stored for consistent application to new data.
}
\examples{
library(recipes)

# Bin to 20 points
rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_bin(n_bins = 20) |>
  prep()

bake(rec, new_data = NULL)
}
\seealso{
Other measure-features: 
\code{\link{step_measure_integrals}()},
\code{\link{step_measure_moments}()},
\code{\link{step_measure_ratios}()}
}
\concept{measure-features}
