% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/align.R
\name{step_measure_align_reference}
\alias{step_measure_align_reference}
\title{Align to Reference Spectrum}
\usage{
step_measure_align_reference(
  recipe,
  measures = NULL,
  ref_spectrum,
  max_shift = 10L,
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_align_reference")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{measures}{An optional character vector of measure column names.}

\item{ref_spectrum}{A numeric vector containing the reference spectrum.
Must have the same length as the measurement spectra.}

\item{max_shift}{Maximum shift (in points) to consider. Default is 10.}

\item{role}{Not used.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_measure_align_reference()} creates a \emph{specification} of a recipe step
that aligns spectra to a user-provided reference spectrum using
cross-correlation.
}
\details{
Similar to \code{\link[=step_measure_align_shift]{step_measure_align_shift()}}, but uses an externally provided
reference spectrum instead of computing one from training data. This is
useful when you have a known standard or calibration spectrum.
}
\examples{
library(recipes)

# Create a reference spectrum (in practice, this would be from calibration)
ref <- rep(1, 100)  # placeholder

# Note: This example would need matching spectrum lengths to work
\dontrun{
rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_align_reference(ref_spectrum = ref) |>
  prep()
}
}
\seealso{
Other measure-align: 
\code{\link{step_measure_align_cow}()},
\code{\link{step_measure_align_dtw}()},
\code{\link{step_measure_align_ptw}()},
\code{\link{step_measure_align_shift}()}
}
\concept{measure-align}
