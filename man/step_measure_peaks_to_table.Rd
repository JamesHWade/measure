% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/peak-operations.R
\name{step_measure_peaks_to_table}
\alias{step_measure_peaks_to_table}
\title{Convert Peaks to Tidy Table}
\usage{
step_measure_peaks_to_table(
  recipe,
  prefix = "peak_",
  properties = c("location", "height", "area"),
  max_peaks = 10,
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_peaks_to_table")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{prefix}{Prefix for generated column names. Default is \code{"peak_"}.}

\item{properties}{Which peak properties to include. Default includes
location, height, and area for each peak.}

\item{max_peaks}{Maximum number of peaks to include in output. If a sample
has more peaks, only the first \code{max_peaks} are included.}

\item{role}{Not used.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_measure_peaks_to_table()} creates a \emph{specification} of a recipe step
that converts the peaks list-column to a wide format with one column per
peak property.
}
\details{
This step converts peak data to a wide format suitable for modeling.
For each peak, it creates columns like \code{peak_1_location}, \code{peak_1_height},
\code{peak_1_area}, etc.

The \code{.peaks} and \code{.measures} columns are removed after conversion.
}
\examples{
library(recipes)

rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_peaks_detect(min_height = 0.5) |>
  step_measure_peaks_integrate() |>
  step_measure_peaks_to_table(max_peaks = 5) |>
  prep()

result <- bake(rec, new_data = NULL)
}
\seealso{
Other peak-operations: 
\code{\link{step_measure_peaks_detect}()},
\code{\link{step_measure_peaks_filter}()},
\code{\link{step_measure_peaks_integrate}()}
}
\concept{peak-operations}
