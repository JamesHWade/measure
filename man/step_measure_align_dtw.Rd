% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/align.R
\name{step_measure_align_dtw}
\alias{step_measure_align_dtw}
\title{Dynamic Time Warping Alignment}
\usage{
step_measure_align_dtw(
  recipe,
  measures = NULL,
  reference = c("mean", "median", "first"),
  window_type = c("none", "sakoechiba", "slantedband"),
  window_size = 10L,
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("measure_align_dtw")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{measures}{An optional character vector of measure column names.}

\item{reference}{How to determine the reference:
\itemize{
\item \code{"mean"} (default): Use the mean spectrum from training
\item \code{"median"}: Use the median spectrum from training
\item \code{"first"}: Use the first sample
}}

\item{window_type}{Windowing constraint for DTW. One of \code{"none"} (default),
\code{"sakoechiba"}, or \code{"slantedband"}.}

\item{window_size}{Window size for constrained DTW. Default is 10.}

\item{role}{Not used.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_measure_align_dtw()} creates a \emph{specification} of a recipe step that
aligns spectra using Dynamic Time Warping (DTW). This method can handle
non-linear distortions in the x-axis.
}
\details{
DTW finds the optimal non-linear alignment between two sequences by
minimizing a distance measure while allowing warping of the time/x-axis.

This is useful for:
\itemize{
\item Chromatographic peak alignment
\item Correcting non-linear retention time shifts
\item Aligning spectra with complex distortions
}

Requires the \code{dtw} package to be installed.
}
\examples{
\dontshow{if (rlang::is_installed("dtw")) withAutoprint(\{ # examplesIf}
library(recipes)

rec <- recipe(water + fat + protein ~ ., data = meats_long) |>
  update_role(id, new_role = "id") |>
  step_measure_input_long(transmittance, location = vars(channel)) |>
  step_measure_align_dtw() |>
  prep()

bake(rec, new_data = NULL)
\dontshow{\}) # examplesIf}
}
\seealso{
Other measure-align: 
\code{\link{step_measure_align_cow}()},
\code{\link{step_measure_align_ptw}()},
\code{\link{step_measure_align_reference}()},
\code{\link{step_measure_align_shift}()}
}
\concept{measure-align}
